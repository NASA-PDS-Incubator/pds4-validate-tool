<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/xdoc/operate/errors.xml.vm at 2020-09-08
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.1" />
    <meta name="author" content="Jordan Padams" />
    <title>Validate Tool &#x2013; Common Errors</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://pds.nasa.gov" id="bannerLeft"><img src="../images/pds_banner.png"  alt="" width="500"/></a></div>
          <div class="pull-right"><a href="https://github.com/NASA-PDS/validate" id="bannerRight"><h2>Validate Tool</h2>
</a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-09-08<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.24.0</li>
      <li class="pull-right"><a href="https://github.com/NASA-PDS/validate" class="externalLink" title="Validate Github Repo">Validate Github Repo</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Documentation</li>
    <li><a href="../index.html" title="About Validate Tool"><span class="none"></span>About Validate Tool</a></li>
    <li><a href="../install/index.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li><a href="../operate/index.html" title="Operation"><span class="none"></span>Operation</a></li>
    <li class="active"><a href="#"><span class="none"></span>Common Errors</a></li>
    <li><a href="../index.html#Support" title="Support"><span class="none"></span>Support</a></li>
   <li class="nav-header">Downloads</li>
    <li><a href="https://github.com/NASA-PDS/validate/releases/download/1.24.0/validate-1.24.0-bin.tar.gz" class="externalLink" title="Current Release (tar.gz)"><span class="none"></span>Current Release (tar.gz)</a></li>
    <li><a href="https://github.com/NASA-PDS/validate/releases/download/1.24.0/validate-1.24.0-bin.zip" class="externalLink" title="Current Release (zip)"><span class="none"></span>Current Release (zip)</a></li>
   <li class="nav-header">Change Log</li>
    <li><a href="https://github.com/NASA-PDS/validate/blob/1.24.0/CHANGELOG.md#1.24.0" class="externalLink" title="Since v1.15.1"><span class="none"></span>Since v1.15.1</a></li>
    <li><a href="../changes-report.html" title="Prior to v1.15.1"><span class="none"></span>Prior to v1.15.1</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="Common_Errors"></a>Common Errors</h2>
      
<p>
        This document is a living document intended to be a kind of &quot;decoder ring&quot; for data providers attempting to debug common validation errors. It is obviously 
        very light on helpful information at this time, but it will continue to grow as we come across additional use cases.
      </p>
      
<p>
        If you would like to contribute to this page, please create a pull request or issue on our <a class="externalLink" href="https://github.com/NASA-PDS/validate/">GitHub</a> 
        repository or email the <a class="externalLink" href="mailto:pds_operator@jpl.nasa.gov">PDS Operator</a> with input. Thanks in advance for helping your fellow users.
      </p>

      
<ul>
        
<li><a href="#White_spaces_are_required_error">White spaces are required error</a></li>
        
<li><a href="#java.lang.OutOfMemoryError">java.lang.OutOfMemoryError</a></li>
        
<li><a href="#No_checksum_found_in_the_manifest_errors">No checksum found in the manifest errors</a></li>
        
<li><a href="#error.table.fields_mismatch">error.table.fields_mismatch</a></li>
        
<li><a href="#error.label.context_ref_mismatch">error.label.context_ref_mismatch</a></li>
      </ul>
    </section>

    <section>
<h2><a name="White_spaces_are_required_error"></a>White spaces are required error</h2>
      
      
<p>Execution of the Validate Tool may result in the following message appearing in the log:
      </p>

      
<div class="source"><pre class="prettyprint">
FAIL: file:/Users/.../hi0173794441_9080000_001_r.xml
    FATAL_ERROR  line 1, 55: White spaces are required between publicId and systemId.
      </pre></div>

      
<p>The message above is generated by the underlying <a class="externalLink" href="http://xerces.apache.org/">Xerces</a> library that is utilized by the Validate Tool for XML Schema validation. Although not very intuitive, the message normally indicates that the XML Schema for the default namespace of the target label is missing. In the example above the default namespace was &quot;http://pds.nasa.gov/pds4/pds/v03&quot; but the XML Schema file describing that namespace (PDS4_PDS_0300a.xsd) was not provided to the tool at runtime.
      </p>
    </section>
      
    <section>
<h2><a name="java.lang.OutOfMemoryError"></a>java.lang.OutOfMemoryError</h2>
      
<p><b><i>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded</i></b></p>
      
      
<p>Running the tool against a large bundle may result in an OutOfMemoryError exception appearing in the standard error similar to the following:
      </p>
      
      
<div class="source"><pre class="prettyprint">
Sep 19, 2017 12:02:39 PM gov.nasa.pds.tools.label.LocationValidator validate
INFO: Using validation style 'PDS4 Directory' for location file:/home/atmos7/anonymous/PDS/data/PDS4/MAVEN/iuvs_calibrated_bundle/
Sep 19, 2017 12:02:39 PM gov.nasa.pds.tools.validate.task.ValidationTask execute
INFO: Starting validation task for location 'file:/home/atmos7/anonymous/PDS/data/PDS4/MAVEN/iuvs_calibrated_bundle/'
Sep 22, 2017 7:07:31 AM gov.nasa.pds.tools.validate.task.ValidationTask execute
INFO: Validation complete for location 'file:/home/atmos7/anonymous/PDS/data/PDS4/MAVEN/iuvs_calibrated_bundle/'
Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded      
      </pre></div>
      
      
<p>When this OutOfMemoryError exception is thrown, no report is generated. The cause of this issue is due to the tool caching the valdiation results in memory until the end of the validation run. To resolve this issue, the JVM heap space setting allocations should be increased. It is recommended to increase the heap space settings to <i>-Xms4096m -Xmx8192m</i>. The following details how to update these settings in the tool depending on the target platform.
      </p>
      
      
<p><i>For Unix-Based Environments,</i> 
      </p>
      
      
<p>Update the JVM heap space allocation settings in the <i>validate</i> shell script to the following:
      </p>
      
      
<div class="source"><pre class="prettyprint">
&quot;${JAVA_HOME}&quot;/bin/java -Xms4096m -Xmx8192m -jar ${VALIDATE_JAR} &quot;$@&quot;
      </pre></div>  
      
      
<p><i>For Windows Environments,</i> 
      </p>
      
      
<p>Update the JVM heap space allocation settings in the <i>validate.bat</i> batch file to the following:
      </p>
      
      
<div class="source"><pre class="prettyprint">
&quot;%JAVA_HOME%&quot;\bin\java -Xms4096m -Xmx8192m -jar &quot;%VALIDATE_JAR%&quot; %*
      </pre></div> 

    </section>
      
    <section>
<h2><a name="No_checksum_found_in_the_manifest_errors"></a>No checksum found in the manifest errors</h2>
      
      
<p>When performing Checksum Manifest file validation, having the wrong base path setting will result in multiple errors like the following:
      </p>
      
      
<div class="source"><pre class="prettyprint">
FAIL: file:/home/pds4/dph_example_archive_VG2PLS/browse/Collection_browse.xml
    ERROR  No checksum found in the manifest for 'file:/home/pds4/dph_example_archive_VG2PLS/browse/Collection_browse.xml'.     
      </pre></div>
      
      
<p>To resolve this issue, check that the base path setting correctly resolves the relative file references (if present) in the Checksum Manifest file by looking at the <i>Manifest File Base Path</i> parameter specified at the top of the Validate Tool report. If the base path is incorrect, specify the correct one on the command line using the <i>-B, --base-path</i> flag option.
      </p>
      
    </section>
    
    <section>
<h2><a name="error.table.fields_mismatch"></a>error.table.fields_mismatch</h2>
      
<p><b>Debugging</b></p>
      
<p>The error indicates the fields do not match the table defined in the label. Here are some things you can check to find out where it is failing:</p>
      
<ul>
        
<li>Table <i>offset</i> value - if the offset is incorrect, the validate reader will start in the incorrect place in the data product, causing the fields to not line up properly. See <a class="externalLink" href="https://github.com/NASA-PDS/validate/issues/96">this issue on Github</a> as an example.</li>
        
<li>Table <i>field_delimiter</i> - make sure this value is as expected</li>
        
<li>Record <i>fields</i> value</li>
      </ul>
    </section>
    
    <section>
<h2><a name="error.label.context_ref_mismatch"></a>error.label.context_ref_mismatch</h2>
      
<p><b>Description</b></p>
      
<p>
        New to Validae 1.16.0, this feature does a performs a check of the <i>name</i> and <i>type</i> values associated with
        context products that are present in your label (e.g. <i>Target_Identification</i>, <i>Investigation_Area</i>, <i>Observing_System_Component</i>),
        with the values in the context products as registered in the PDS. In order to enable accurate search results, these values need to be the same as much
        as possible.
      </p>
      
      
<p><b>Fixing the problem</b></p>
      
<p>To fix the problem you have a few options:</p>
      
<ul>
        
<li>For data archived prior to v1.16.0 - you can either reprocess, note the errors in your readme, or turn off context validation (--skip-context-validation)</li>
        
<li>For new data archives - it is highly recommended you either update the context product or the data labels</li>
      </ul>
    </section>
    
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2020Jet Propulsion Laboratory, California Institute of Technology.
.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
