<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/xdoc/operate/errors.xml.vm at 2019-09-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Validate Tool &#x2013; Common Errors</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
      <meta name="author" content="Jordan Padams" />
    <meta http-equiv="Content-Language" content="en" />
    
  </head>
  <body class="composite">
    <div id="banner">
<a href="https://github.com/NASA-PDS-Incubator/validate" id="bannerLeft"><img src="../images/pds4_logo.png"  alt=""/></a>
<div id="bannerRight">
Validate Tool
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2019-09-26</span>
          &nbsp;| <span id="projectVersion">Version: 1.16.0-SNAPSHOT</span>
      </div>
      <div class="xright"><a href="https://github.com/NASA-PDS-Incubator/validate" class="externalLink" title="Validate Github Repo">Validate Github Repo</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Documentation</h5>
    <ul>
     <li class="none"><a href="../index.html" title="About Validate Tool">About Validate Tool</a></li>
     <li class="none"><a href="../install/index.html" title="Installation">Installation</a></li>
     <li class="none"><a href="../operate/index.html" title="Operation">Operation</a></li>
     <li class="none"><strong>Common Errors</strong></li>
    </ul>
       <h5>Downloads</h5>
    <ul>
     <li class="none"><a href="https://github.com/NASA-PDS-Incubator/validate/releases/download/v1.16.0-SNAPSHOT/validate-1.16.0-SNAPSHOT-bin.tar.gz" class="externalLink" title="Current Release (tar.gz)">Current Release (tar.gz)</a></li>
     <li class="none"><a href="https://github.com/NASA-PDS-Incubator/validate/releases/download/v1.16.0-SNAPSHOT/validate-1.16.0-SNAPSHOT-bin.zip" class="externalLink" title="Current Release (zip)">Current Release (zip)</a></li>
    </ul>
       <h5>Change Log</h5>
    <ul>
     <li class="none"><a href="https://github.com/NASA-PDS-Incubator/validate/blob/v1.16.0-SNAPSHOT/CHANGELOG.md#v1.16.0-SNAPSHOT" class="externalLink" title="Since v1.15.1">Since v1.15.1</a></li>
     <li class="none"><a href="../changes-report.html" title="Prior to v1.15.1">Prior to v1.15.1</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">

  
    <div class="section">
<h2><a name="Common_Errors"></a>Common Errors</h2>
      
<p>
        This document is a living document intended to be a kind of &quot;decoder ring&quot; for data providers attempting to debug common validation errors. It is obviously 
        very light on helpful information at this time, but it will continue to grow as we come across additional use cases.
      </p>
      
<p>
        If you would like to contribute to this page, please create a pull request or issue on our <a class="externalLink" href="https://github.com/NASA-PDS-Incubator/validate/">GitHub</a> 
        repository or email the <a class="externalLink" href="mailto:pds_operator@jpl.nasa.gov">PDS Operator</a> with input. Thanks in advance for helping your fellow users.
      </p>

      
<ul>
        
<li><a href="#White_spaces_are_required_error">White spaces are required error</a></li>
        
<li><a href="#java.lang.OutOfMemoryError">java.lang.OutOfMemoryError</a></li>
        
<li><a href="#No_checksum_found_in_the_manifest_errors">No checksum found in the manifest errors</a></li>
        
<li><a href="#error.table.fields_mismatch">error.table.fields_mismatch</a></li>
        
<li><a href="#error.label.context_ref_mismatch">error.label.context_ref_mismatch</a></li>
      </ul>
    </div>

    
<div class="section">
<h2><a name="White_spaces_are_required_error"></a>White spaces are required error</h2>
      
      
<p>Execution of the Validate Tool may result in the following message appearing in the log:
      </p>

      
<div class="source">
<pre>
FAIL: file:/Users/.../hi0173794441_9080000_001_r.xml
    FATAL_ERROR  line 1, 55: White spaces are required between publicId and systemId.
      </pre></div>

      
<p>The message above is generated by the underlying <a class="externalLink" href="http://xerces.apache.org/">Xerces</a> library that is utilized by the Validate Tool for XML Schema validation. Although not very intuitive, the message normally indicates that the XML Schema for the default namespace of the target label is missing. In the example above the default namespace was &quot;http://pds.nasa.gov/pds4/pds/v03&quot; but the XML Schema file describing that namespace (PDS4_PDS_0300a.xsd) was not provided to the tool at runtime.
      </p>
    </div>
      
    
<div class="section">
<h2><a name="java.lang.OutOfMemoryError"></a>java.lang.OutOfMemoryError</h2>
      
<p><b><i>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded</i></b></p>
      
      
<p>Running the tool against a large bundle may result in an OutOfMemoryError exception appearing in the standard error similar to the following:
      </p>
      
      
<div class="source">
<pre>
Sep 19, 2017 12:02:39 PM gov.nasa.pds.tools.label.LocationValidator validate
INFO: Using validation style 'PDS4 Directory' for location file:/home/atmos7/anonymous/PDS/data/PDS4/MAVEN/iuvs_calibrated_bundle/
Sep 19, 2017 12:02:39 PM gov.nasa.pds.tools.validate.task.ValidationTask execute
INFO: Starting validation task for location 'file:/home/atmos7/anonymous/PDS/data/PDS4/MAVEN/iuvs_calibrated_bundle/'
Sep 22, 2017 7:07:31 AM gov.nasa.pds.tools.validate.task.ValidationTask execute
INFO: Validation complete for location 'file:/home/atmos7/anonymous/PDS/data/PDS4/MAVEN/iuvs_calibrated_bundle/'
Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded      
      </pre></div>
      
      
<p>When this OutOfMemoryError exception is thrown, no report is generated. The cause of this issue is due to the tool caching the valdiation results in memory until the end of the validation run. To resolve this issue, the JVM heap space setting allocations should be increased. It is recommended to increase the heap space settings to <i>-Xms4096m -Xmx8192m</i>. The following details how to update these settings in the tool depending on the target platform.
      </p>
      
      
<p><i>For Unix-Based Environments,</i> 
      </p>
      
      
<p>Update the JVM heap space allocation settings in the <i>validate</i> shell script to the following:
      </p>
      
      
<div class="source">
<pre>
&quot;${JAVA_HOME}&quot;/bin/java -Xms4096m -Xmx8192m -jar ${VALIDATE_JAR} &quot;$@&quot;
      </pre></div>  
      
      
<p><i>For Windows Environments,</i> 
      </p>
      
      
<p>Update the JVM heap space allocation settings in the <i>validate.bat</i> batch file to the following:
      </p>
      
      
<div class="source">
<pre>
&quot;%JAVA_HOME%&quot;\bin\java -Xms4096m -Xmx8192m -jar &quot;%VALIDATE_JAR%&quot; %*
      </pre></div> 

    </div>
      
    
<div class="section">
<h2><a name="No_checksum_found_in_the_manifest_errors"></a>No checksum found in the manifest errors</h2>
      
      
<p>When performing Checksum Manifest file validation, having the wrong base path setting will result in multiple errors like the following:
      </p>
      
      
<div class="source">
<pre>
FAIL: file:/home/pds4/dph_example_archive_VG2PLS/browse/Collection_browse.xml
    ERROR  No checksum found in the manifest for 'file:/home/pds4/dph_example_archive_VG2PLS/browse/Collection_browse.xml'.     
      </pre></div>
      
      
<p>To resolve this issue, check that the base path setting correctly resolves the relative file references (if present) in the Checksum Manifest file by looking at the <i>Manifest File Base Path</i> parameter specified at the top of the Validate Tool report. If the base path is incorrect, specify the correct one on the command line using the <i>-B, --base-path</i> flag option.
      </p>
      
    </div>
    
    
<div class="section">
<h2><a name="error.table.fields_mismatch"></a>error.table.fields_mismatch</h2>
      
<p><b>Debugging</b></p>
      
<p>The error indicates the fields do not match the table defined in the label. Here are some things you can check to find out where it is failing:</p>
      
<ul>
        
<li>Table <i>offset</i> value - if the offset is incorrect, the validate reader will start in the incorrect place in the data product, causing the fields to not line up properly. See <a class="externalLink" href="https://github.com/NASA-PDS-Incubator/validate/issues/96">this issue on Github</a> as an example.</li>
        
<li>Table <i>field_delimiter</i> - make sure this value is as expected</li>
        
<li>Record <i>fields</i> value</li>
      </ul>
    </div>
    
    
<div class="section">
<h2><a name="error.label.context_ref_mismatch"></a>error.label.context_ref_mismatch</h2>
      
<p><b>Description</b></p>
      
<p>
        New to Validae 1.16.0, this feature does a performs a check of the <i>name</i> and <i>type</i> values associated with
        context products that are present in your label (e.g. <i>Target_Identification</i>, <i>Investigation_Area</i>, <i>Observing_System_Component</i>),
        with the values in the context products as registered in the PDS. In order to enable accurate search results, these values need to be the same as much
        as possible.
      </p>
      
      
<p><b>Fixing the problem</b></p>
      
<p>To fix the problem you have a few options:</p>
      
<ul>
        
<li>For data archived prior to v1.16.0 - you can either reprocess, note the errors in your readme, or turn off context validation (--skip-context-validation)</li>
        
<li>For new data archives - it is highly recommended you either update the context product or the data labels</li>
      </ul>
    </div>
    
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2019.All rights reserved.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
